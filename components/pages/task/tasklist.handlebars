<div class="jarviswidget jarviswidget-color-blueLight"
     id="envi-{{envId}}-task-grid" style="box-shadow: 0 0 5px rgba(0,0,0,0.2)"
     data-widget-editbutton="false">
    <header>
        <span style="margin: 5px" class="tooltips" title="任务列表">
           任务列表
        </span>
    </header>
    <div style="border: 1px solid #ccc">
        <div class="widget-body no-padding task-list">
            <table id="task-list-{{envId}}-table" class="table table-striped table-bordered table-hover smart-form">
                <thead>
                <tr>
                    <th width="5%">任务ID</th>
                    <th width="8%">任务编码</th>
                    <th width="10%">脚本路径</th>
                    <th width="5%">脚本参数</th>
                    <th width="3%">调度类型</th>
                    <th width="5%">表达式</th>
                    <th width="5%">重试次数</th>
                    <th width="6%">修改者</th>
                    <th width="10%">修改时间</th>
                    <th width="6%">备注</th>
                    <th width="6%">状态</th>
                    <th width="11%">操作</th>
                </tr>
                <tr class="second">
                    <td><label class="input"><input type="text" name="search_id" value="查找ID"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_code" value="查找编码"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_scriptPath" value="查找脚本路径"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_scriptParam" value="查找脚本参数"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_scheduleType" value="查找调度类型"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_expression" value="查找表达式"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_retry_times" value="查找重试次数"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_modifier" value="查找修改者"
                                                    class="search_init"></label></td>
                    <td><label class="input"><input type="text" name="search_modify_time" value="查找修改时间"
                                                    class="search_init"></label></td>
                    <td>备注</td>
                    <td title="上一次运行状态">状态</td>
                    <td>开发环境暂不支持立即运行</td>
                </tr>
                </thead>
                <tbody id="task-list-{{envId}}-tbody">
                {{#each taskList}}
                    <tr rel="resource" class="task-tr" data-id="{{id}}">
                        <td id="tl-taskid-{{id}}" class="tdlist" title="{{id}}">
                            {{#if hasChange}}
                                {{id}}<i class="fa fa-edit" title="该任务默认配置已被修改，切换包后修改将继续生效"
                                         style="margin-left: 10px"></i>
                            {{else}}
                                {{id}}
                            {{/if}}
                        </td>
                        <td><span class="tdlist" title="{{code}}">{{code}}</span></td>
                        <td id="tl-scriptPath-{{id}}" class="tdlist"  title="{{scriptPath}}">{{scriptPath}}</td>
                        <td id="tl-param-{{id}}" style="max-width:70px" class="tdlist" title="{{scriptParam}}">{{scriptParam}}</td>
                        <td id="tl-type-{{id}}" class="tdlist" title="{{scheduleType}}">{{scheduleType}}</td>
                        <td id="tl-exp-{{id}}" class="tdlist" title="{{expression}}">{{expression}}</td>
                        <td id="tl-retry-{{id}}" class="tdlist" title="{{retryTimes}}">{{retryTimes}}</td>
                        <td id="tl-modifier-{{id}}" class="tdlist" title="{{modifier}}">{{modifier}}</td>
                        <td id="tl-modifyTime-{{id}}" class="tdlist" title="{{modifyTime}}">{{modifyTime}}</td>
                        <td id="tl-desk-{{id}}" class="tdlist" title="{{remark}}">{{remark}}</td>
                        <td id="tl-status-{{id}}" class="tdlist" title="{{lastTaskStatus}}">{{lastTaskStatus}}</td>
                        <td>
                            <div class="state-wrap">
                                {{#if useable}}
                                    {{#if status}}
                                        <i task-{{id}}-btn="stop" class="fa fa-stop fabtn fa-lg" title="停止" data-title="停止"></i>
                                    {{else}}
                                        <i task-{{id}}-btn="start" class="fa fa-check-circle fabtn fa-lg" title="启动" data-title="启动"></i>
                                    {{/if}}
                                    <i task-{{id}}-btn="immediate-execute" class="fa fa-paper-plane-o fabtn fa-lg" title="立即执行" data-title="立即执行"></i>
                                {{else}}
                                    <i task-{{id}}-btn="start" data-id="{{id}}" class="fa fa-times-circle fabtn fa-lg"  title="删除" data-title="删除"></i>
                                    <i task-{{id}}-btn="immediate-execute" class="fa fa-paper-plane-o fabtn fa-lg" title="立即执行" data-title="立即执行"></i>
                                {{/if}}
                                <i task-{{id}}-btn="status" class="fa fa-eye fabtn fa-lg" title="状态" data-title="状态"></i>
                                <i task-{{id}}-btn="record" class="fa fa-list-ol fabtn fa-lg" title="记录" data-title="记录"></i>
                                <i task-{{id}}-btn="config" class="fa fa-cog fabtn fa-lg" title="配置" data-title="配置"></i>
                                <i task-{{id}}-btn="monitor" class="fa fa-desktop fabtn fa-lg"  title="监控" data-title="监控"></i>
                            </div>
                        </td>
                {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</div>